{% extends 'layout/master.twig' %}

{% block body %}

	<div class="row">
		<div class="col-md-12 text-center">
			<h1>Labyrinthe Maker</h1>
			<p>Créez votre propre Labyrinthe de façon aléatoire !</p>
		</div>
	</div>

	<div class="row">
		<div class="col-md-3">
			<form action="/generate" method="post">
				<div class="form-group">
					<input type="number" name="width" placeholder="Largeur du labyrinthe" class="form-control">
				</div>

				<div class="form-group">
					<input type="number" name="height" placeholder="Hauteur du labyrinthe" class="form-control">
				</div>

				<div class="form-group">
					<input type="color" name="color" placeholder="Largeur du labyrinthe" class="form-control">
				</div>

				<div class="form-group">
					<input type="submit" value="Generation" class="btn btn-success">
				</div>
			</form>
		</div>

		<div class="col-md-9">
				{% if map is defined and map is not empty %}
					<svg width="{{data.width*30+2}}" height="{{data.height*30+2}}">
	 					{% for hort in map[0] %}
							{% for wall in hort %}
							    {% if wall %}
									<rect x="{{30*(loop.index0)}}" y="{{30*(loop.parent.loop.index0)}}" width="30" height="2" style="fill:{{data.color}};" />
								{% endif %}
							{% endfor %}
						{% endfor %}
					
						{% for vert in map[1] %}
							{% for wall in vert %}
								{% if wall %}
									<rect x="{{30*(loop.index0)}}" y="{{30*(loop.parent.loop.index0)}}" width="2" height="30" style="fill:{{data.color}};" />
								{% endif %}
							{% endfor %}
						{% endfor %}
					</svg>									
				{% endif %}
		</div>
	</div>

{% endblock %}

